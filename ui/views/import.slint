import { Button, LineEdit, CheckBox, ScrollView } from "std-widgets.slint";

// --- POMOCN√â KOMPONENTY PRO TUTO STR√ÅNKU ---

component FormLabel inherits Text {
    color: #aaa;
    font-size: 12px;
    font-weight: 700;
}

component FileItem inherits Rectangle {
    in property <string> nazev;
    height: 40px;
    background: #2a2a2a;
    border-radius: 4px;
    border-width: 1px;
    border-color: #333;

    HorizontalLayout {
        padding-left: 12px; padding-right: 8px; spacing: 10px;
        Text { text: "üìé"; vertical-alignment: center; font-size: 14px; color: #666; }
        Text {
            text: root.nazev;
            color: #ccc; font-size: 13px; vertical-alignment: center;
            horizontal-stretch: 1;
        }
        Text {
            text: "√ó";
            color: #cc4444;
            font-size: 22px;
            vertical-alignment: center;
        }
    }
}

component DropZone inherits Rectangle {
    in property <color> active-color;
    in property <string> ikona: "‚òÅÔ∏è";
    in property <string> hlavni-text: "Nahr√°t soubor";
    in property <string> vedlejsi-text: "Kliknƒõte pro v√Ωbƒõr";

    background: #252525;
    border-radius: 12px;
    border-width: 2px;
    border-color: #444;

    VerticalLayout {
        alignment: center; spacing: 8px;
        Text { text: root.ikona; font-size: 32px; horizontal-alignment: center; }
        Text {
            text: root.hlavni-text;
            font-size: 16px; color: #eee; horizontal-alignment: center; font-weight: 700;
        }
        Text {
            text: root.vedlejsi-text;
            font-size: 11px; color: #666; horizontal-alignment: center;
        }
    }
}

// --- HLAVN√ç KOMPONENTA STR√ÅNKY ---

export component ImportView inherits VerticalLayout {
    // Vizu√°ln√≠ vlastnosti (lze mƒõnit zvenƒç√≠)
    in property <color> akcent-barva: #4aa3df;
    in property <string> nazev-rezimu: "IMPORT";
    
    spacing: 20px;

    // 1. Hlaviƒçka okna
    HorizontalLayout {
        spacing: 15px; vertical-stretch: 0;
        Rectangle { width: 6px; background: root.akcent-barva; border-radius: 3px; }
        VerticalLayout {
            Text { text: "ZALO≈ΩEN√ç DOKLADU: " + root.nazev-rezimu; color: root.akcent-barva; font-weight: 800; font-size: 12px; }
            Text { text: root.nazev-rezimu == "IMPORT" ? "Nov√© zpracov√°n√≠ dat" : "Nov√Ω doklad"; color: white; font-size: 24px; font-weight: 300; }
        }
        Rectangle { horizontal-stretch: 1; }
        Button { text: "Zpƒõt na rozcestn√≠k"; height: 35px; }
    }

    Rectangle { height: 1px; background: #333; }

    // 2. Hlavn√≠ obsah - dvousloupcov√Ω
    HorizontalLayout {
        spacing: 40px;
        vertical-stretch: 1;

        // LEV√ù SLOUPEC: RUƒåN√ç FORMUL√Å≈ò
        VerticalLayout {
            horizontal-stretch: 1;
            spacing: 15px;
            alignment: start;

            Text { text: "üìù   Ruƒçn√≠ zad√°n√≠ √∫daj≈Ø"; font-size: 18px; font-weight: 700; color: white; }

            VerticalLayout {
                spacing: 5px;
                FormLabel { text: "IƒåO / ID PARTNERA"; }
                HorizontalLayout {
                    spacing: 10px;
                    LineEdit { placeholder-text: "Nap≈ô. 12345678"; height: 40px; horizontal-stretch: 1; }
                    Button { text: "Ovƒõ≈ôit"; width: 80px; }
                }
            }

            VerticalLayout {
                spacing: 5px;
                FormLabel { text: "N√ÅZEV FIRMY / PARTNERA"; }
                LineEdit { placeholder-text: "N√°zev firmy..."; height: 40px; }
            }

            VerticalLayout {
                spacing: 5px;
                FormLabel { text: "POZN√ÅMKA K ZAK√ÅZCE"; }
                LineEdit { placeholder-text: "Intern√≠ pozn√°mka..."; height: 40px; }
            }

            CheckBox { text: "Vytvo≈ôit slo≈æku v archivu"; checked: true; }

            Rectangle { vertical-stretch: 1; }

            Button {
                text: "VYTVO≈òIT " + root.nazev-rezimu;
                height: 50px;
                primary: true;
            }
        }

        // Oddƒõlovac√≠ ƒç√°ra
        Rectangle { width: 1px; background: #333; }

        // PRAV√ù SLOUPEC: IMPORT SOUBOR≈Æ
        VerticalLayout {
            width: 360px;
            spacing: 20px;

            // Excel sekce
            VerticalLayout {
                spacing: 10px;
                Text { text: "1. ≈ò√≠d√≠c√≠ soubor (Excel)"; font-size: 14px; font-weight: 700; color: #888; }
                DropZone {
                    height: 120px;
                    active-color: root.akcent-barva;
                    ikona: "üìä";
                    hlavni-text: "Nahr√°t Excel";
                    vedlejsi-text: ".xlsx, .xlsm (Transform√°torek)";
                }
            }

            Rectangle { height: 1px; background: #333; }

            // P≈ô√≠lohy sekce
            VerticalLayout {
                spacing: 10px;
                vertical-stretch: 1;

                Text { text: "2. Datov√© p≈ô√≠lohy (V√Ωkresy, Modely)"; font-size: 14px; font-weight: 700; color: #888; }

                DropZone {
                    height: 100px;
                    active-color: #4aa3df;
                    ikona: "üìÇ";
                    hlavni-text: "P≈ôidat v√Ωkresy";
                    vedlejsi-text: "PDF, STEP, DXF...";
                }

                // Seznam nahran√Ωch soubor≈Ø
                Rectangle {
                    background: #1e1e1e;
                    border-radius: 6px;
                    border-width: 1px;
                    border-color: #333;
                    vertical-stretch: 1;
                    
                    ScrollView {
                        padding: 10px;
                        VerticalLayout {
                            spacing: 6px;
                            alignment: start;
                            // Uk√°zka soubor≈Ø (bez logiky)
                            FileItem { nazev: "vykres_hridele_v1.dxf"; }
                            FileItem { nazev: "sestava_final.step"; }
                            FileItem { nazev: "zad√°n√≠_od_klienta.pdf"; }
                        }
                    }
                }
            }
        }
    }
}